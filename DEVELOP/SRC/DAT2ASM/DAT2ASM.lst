Microsoft (R) Macro Assembler Version 6.11		    04/22/12 02:03:04
DAT2ASM.asm						     Page 1 - 1


				;=======================================================================|
				;									|
				;		Wander Swan Total Sound Driver				|
				;				Un MML Compiler Program			|
				;									|
				;					Programmed by			|
				;						A.Watanabe		|
				;									|
				;=======================================================================|

				.186
				.model	tiny,stdcall

				;=======================================================================|
				;				define					|
				;=======================================================================|

				include	lib_dos.inc
			      C 
			      C 
			      C ComSmole	proto	near,	sizeCOM:WORD
			      C ExeSmole	proto	near,	szDGROUP:WORD
			      C Memory_Open	proto	near,	ParaSize:word
			      C Memory_Close	proto	near,	CloseSegment:word
			      C 
			      C File_Create	proto	near,	cFilename:dword,iAttr:word
			      C File_Open	proto	near,	cFilename:dword,cMode:byte
			      C File_Close	proto	near,	hFile:word
			      C File_Load	proto	near,	hFile:word,	cBuff:dword
			      C File_Load_S	proto	near,	hFile:word,	iSize:word,	cBuff:dword
			      C File_Write	proto	near,	hFile:word,	iSize:word,	cBuff:dword
			      C File_Seek	proto	near,	hFile:word,	iControl:BYTE,	dOffset	:dword
			      C 
			      C ChangeExt			proto	near,	cFilename:dword,cExt:dword
			      C Change_Current_Directory	proto	near,	cDirname:dword
			      C 
			      C File_Err	proto	near
			      C 
			      C 
			      C 
			      C ASC2HEX8	proto	near
			      C ASC2HEX16	proto	near
			      C HEX2ASC8	proto	near
			      C HEX2ASC16	proto	near
			      C FH2A8		proto	near
			      C FH2A16		proto	near
			      C H2A_F		proto	near,	iValue	:WORD,	iForm	:WORD
			      C H2A8		proto	near
			      C dat2hex8	proto	near
			      C dat2hex16	proto	near
			      C 
			      C 
			      C 

				.dosseg

				.stack	1000h

 0000				.data

 0000 04			OP_FLAG_LEN	DB	4			;ƒIƒvƒVƒ‡ƒ“ƒtƒ‰ƒO|•ªŠ„”Žw’è

 0000				.data?

 0000 0000			segWtd_File	dw	?
 0002 0000			szWtd_File	dw	?

				;=======================================================================|
				;				Start Up				|
				;=======================================================================|
 0000				.code
					.startup
 0100			   *@Startup:
 0100  8C C8				mov	ax,cs
 0102  8E D0				mov	ss,ax
 0104  BC 1000 R			mov	sp,offset DGROUP:STACK
					invoke	ComSmole,	sp	;ƒƒ‚ƒŠ‚ÌÅ¬‰»
 0107  54		   *	    push   sp
 0108  E8 0000 E	   *	    call   ComSmole

 010B  FC				cld

 010C  E8 01A6				call	_main

					.exit	0
 010F  B8 4C00		   *	    mov    ax, 04C00h
 0112  CD 21		   *	    int    021h

				;---------------------------------------------------------------|
				;		ƒGƒ‰[ˆ—					|
				;---------------------------------------------------------------|
				;ˆø”								|
				;	dx	•\Ž¦•¶Žš—ñiƒGƒ‰[“à—ej			|
				;---------------------------------------------------------------|
 0114				PRINT_ERR:
 0114  0E				push	cs			;
 0115  1F				pop	ds			;
 0116  B4 09				MOV	AH,09H			;
 0118  CD 21				INT	21H			;
					.exit	255			;
 011A  B8 4CFF		   *	    mov    ax, 04CFFh
 011D  CD 21		   *	    int    021h

				;=======================================================================|
				;				Start					|
				;=======================================================================|
				include	wtd_ver.inc	;WTD Version infomation
			      C ;=======================================================================|
			      C ;									|
			      C ;		Wander Swan Total Sound Driver				|
			      C ;				IL Struct define			|
			      C ;				IL Function Routine			|
			      C ;					Programmed by			|
			      C ;						A.Watanabe		|
			      C ;									|
			      C ;=======================================================================|
 = '1.0d',0		      C WtdIL_Version		equ	'1.0d',0	;•¶Žš—ñ
 = 010D			      C WTdIL_Version_N		equ	010dh		;”’l
			      C 
				include	wtd_def.inc	;WTD Define infomation
			      C ;=======================================================================|
			      C ;									|
			      C ;		Wander Swan Total Sound Driver				|
			      C ;				define file				|
			      C ;					for Assemble Language		|
			      C ;									|
			      C ;					Programmed by			|
			      C ;						A.Watanabe		|
			      C ;									|
			      C ;=======================================================================|
			      C ;****************************************************************
			      C ;*								*
			      C ;*			ƒ}ƒNƒ’è‹`				*
			      C ;*								*
			      C ;****************************************************************
			      C ;===============================================================|
			      C ;	ƒ}ƒNƒ	ƒ[ƒNƒGƒŠƒA‚ÌƒAƒhƒŒƒX‚ðŽæ“¾‚·‚é		|
			      C ;===============================================================|
			      C ;	œƒ}ƒNƒ‘Ž®						|
			      C ;		WTD_WorkGet	reg1,reg2			|
			      C ;	œˆø”							|
			      C ;		DS	DGROUP					|
			      C ;	œ•Ô’l							|
			      C ;		reg1	Segment Address				|
			      C ;		reg2	Offset  Address				|
			      C ;===============================================================|
			      C WTD_WorkGet	macro	seg,off		;
			      C ifdef	library	;------------------------	;¦@ƒ‰ƒCƒuƒ‰ƒŠ”Å‚Ì‚Ý•K—v
			      C 
			      C ifdef	IRAM	;---------------		;D-GROUP  I-RAM‚Ìê‡
			      C 		push	IRAM_Segment		;
			      C 		pop	seg			;
			      C 		mov	off,offset DGROUP:_WTD_Work
			      C 
			      C else	;-----------------------		;D-GROUP ‚ S-RAM‚Ìê‡
			      C 		push	SRAM_Segment		;iWonderWitch“™j
			      C 		pop	seg			;
			      C 		mov	off,offset DGROUP:_WTD_Work
			      C endif	;-----------------------
			      C 
			      C else	;--------------------------------	;WonderWitch”Å
			      C 		push	SRAM_Segment		;
			      C 		pop	seg			;
			      C 		mov	off,ds:[ProcContext_heap]
			      C endif	;--------------------------------
			      C 		endm				;
			      C 
			      C ;****************************************************************
			      C ;*								*
			      C ;*			’è”					*
			      C ;*								*
			      C ;****************************************************************
			      C ;===============================================================|
			      C ;		ƒn[ƒhƒEƒFƒAŠ„‚èž‚Ý				|
			      C ;===============================================================|
 = INT_HARDHAEW_VECTOR_BASE   C InterruptVectorBase_WW	equ	INT_HARDHAEW_VECTOR_BASE	;WonderWitch
 = InterruptVectorBase_WW     C InterruptVectorBase	equ	InterruptVectorBase_WW		;Š„‚èž‚ÝƒxƒNƒ^
			      C 
			      C ;===============================================================|
			      C ;		Wander Swan Segment Address			|
			      C ;===============================================================|
			      C ;ƒZƒOƒƒ“ƒgƒAƒhƒŒƒX’è‹`
 = 0000			      C IRAM_Segment		equ	0000h			;–{‘ÌRAM
 = BANK_SRAM_ADDRESS	      C SRAM_Segment		equ	BANK_SRAM_ADDRESS	;SRAM
 = BANK_ROM0_ADDRESS	      C FROM_Segment		equ	BANK_ROM0_ADDRESS	;ROM
			      C 
			      C ;===============================================================|
			      C ;		–{‘ÌRAM Work Address				|
			      C ;===============================================================|
			      C ;CommEnpty_intvector	equ	000a0h		;Š„‚èž‚ÝƒxƒNƒ^(028h~4)
			      C ;Hblank_intvector	equ	000bch		;Š„‚èž‚ÝƒxƒNƒ^(02fh~4)
			      C 
 = 0180			      C IRAM_SoundVoiceTable_WW	equ	00180h			;WonderWitchÝ’è
 = IRAM_SoundVoiceTable_WW    C IRAM_SoundVoiceTable	equ	IRAM_SoundVoiceTable_WW	;‰¹Fƒe[ƒuƒ‹
			      C 
			      C ;===============================================================|
			      C ;		ƒ[ƒN—ÌˆæƒAƒhƒŒƒX				|
			      C ;===============================================================|
			      C ;\‘¢‘ÌˆÊ’u
 = 0000			      C WTD_WorkAdd_User	equ	0000h		;ƒ†[ƒU—pƒ[ƒN
 = 0100			      C WTD_WorkAdd_Wave	equ	0100h		;‰¹F
 = 0200			      C WTD_WorkAdd_Emb		equ	0200h		;ƒGƒ“ƒxƒ[ƒv
 = 0380			      C WTD_WorkAdd_System	equ	0380h		;ƒp[ƒg‹¤’Ê\‘¢‘Ì
			      C 
 = 0400			      C WTD_WorkAdd_Ech0	equ	0400h		;Effect ch1
 = 0480			      C WTD_WorkAdd_Ech1	equ	0480h		;Effect ch2
 = 0500			      C WTD_WorkAdd_Ech2	equ	0500h		;Effect ch3
 = 0580			      C WTD_WorkAdd_PCM		equ	0580h		;Effect PCM Voice
			      C 
 = 0600			      C WTD_WorkAdd_Ch0		equ	0600h		;ch0
 = 0680			      C WTD_WorkAdd_Ch1		equ	0680h		;ch1
 = 0700			      C WTD_WorkAdd_Ch2		equ	0700h		;ch2
 = 0780			      C WTD_WorkAdd_Ch3		equ	0780h		;ch3
 = 0800			      C WTD_WorkAdd_Ch4		equ	0800h		;ch4
 = 0880			      C WTD_WorkAdd_Ch5		equ	0880h		;ch5
 = 0900			      C WTD_WorkAdd_Ch6		equ	0900h		;ch6
 = 0980			      C WTD_WorkAdd_Ch7		equ	0980h		;ch7
 = 0A00			      C WTD_WorkAdd_Ch8		equ	0a00h		;ch8
 = 0A80			      C WTD_WorkAdd_Ch9		equ	0a80h		;ch9
 = 0B00			      C WTD_WorkAdd_Ch10	equ	0b00h		;ch10
 = 0B80			      C WTD_WorkAdd_Ch11	equ	0b80h		;ch11
 = 0C00			      C WTD_WorkAdd_Ch12	equ	0c00h		;ch12
 = 0C80			      C WTD_WorkAdd_Ch13	equ	0c80h		;ch13
 = 0D00			      C WTD_WorkAdd_Ch14	equ	0d00h		;ch14
 = 0D80			      C WTD_WorkAdd_Ch15	equ	0d80h		;ch15
 = 0E00			      C WTR_WorkAdd_Ch16	equ	0e00h		;ch16
 = 0E80			      C WTD_WorkAdd_Ch17	equ	0e80h		;ch17
 = 0F00			      C WTD_WorkAdd_Ch18	equ	0f00h		;ch18
 = 0F80			      C WTD_WorkAdd_Ch19	equ	0f80h		;ch19
			      C 
 = 0080			      C WTD_WorkChSize		equ	080h		;ƒ[ƒN‚ÌƒTƒCƒY
 = 1000			      C WTD_WorkSize		equ	1000h		;ƒ[ƒN‚ÌƒTƒCƒY
			      C 
 = WTD_WorkSize		      C WTD_WorkAdd_End		equ	WTD_WorkSize	;ƒ[ƒN‚ÌÅŒã{‚P
			      C 
			      C ;****************************************************************
			      C ;*								*
			      C ;*			\‘¢‘Ì’è‹`				*
			      C ;*								*
			      C ;****************************************************************
			      C ;===============================================================|
			      C ;		Micro Soft  RIFF and Wave data formats		|
			      C ;===============================================================|
			      C ;\‘¢‘Ì’è‹` RIFF Header
 000D			      C Riff			struc			;
 0000  0004 [		      C Riff_Head		db	4	dup(?)	;'RIFF'
        00
       ]
 0004  00000000		      C Riff_Size		dd	?		;File Size(‘S‘Ì-8)
 0008  0004 [		      C Riff_Type		db	4	dup(?)	;'WAVE'
        00
       ]
 000C  00		      C Riff_Data		db	?		;ƒf[ƒ^
			      C Riff			ends
			      C 
			      C ;\‘¢‘Ì’è‹`	RIFF struct
 0009			      C RiffHed			struc			;
 0000  0004 [		      C RiffHed_Head		db	4	dup(?)	;ƒwƒbƒ_
        00
       ]
 0004  00000000		      C RiffHed_Size		dd	?		;ƒwƒbƒ_‚Ìƒf[ƒ^‚ÌƒTƒCƒY
 0008  00		      C RiffHed_Data		db	?		;ƒwƒbƒ_‚Ìƒf[ƒ^
			      C RiffHed			ends			;
			      C 
			      C ;\‘¢‘Ì’è‹`	WAVE fmt
 0018			      C WaveFmt			struc			;
 0000  0004 [		      C WaveFmt_Head		db	4	dup(?)	;'fmt '
        00
       ]
 0004  00000000		      C WaveFmt_Size		dd	?		;16	[byte]
 0008  0000		      C WaveFmt_Type		dw	?		;1	(wave)
 000A  0000		      C WaveFmt_Channel		dw	?		;1	(mono)
 000C  00000000		      C WaveFmt_SamplingRate	dd	?		;11025	[Hz]
 0010  00000000		      C WaveFmt_SamplingSec	dd	?		;11025	[Byte]
 0014  0000		      C WaveFmt_DataSize	dw	?		;1	[Byte]
 0016  0000		      C WaveFmt_ChannelSize	dw	?		;8	[bit]
			      C WaveFmt			ends			;
			      C 
			      C ;\‘¢‘Ì’è‹`	WAVE Data
 0009			      C WaveData		struc			;
 0000  0004 [		      C WaveData_Head		db	4	dup(?)	;'data'
        00
       ]
 0004  00000000		      C WaveData_Size		dd	?		;Data Size
 0008  00		      C WaveData_Data		db	?		;wave data
			      C WaveData		ends			;
			      C 
			      C ;===============================================================|
			      C ;		ƒp[ƒgŒÂ•Êƒ[ƒN\‘¢‘Ì				|
			      C ;===============================================================|
			      C ;\‘¢‘Ì’è”’è‹`
 = WTD_SweepLevel	      C WTD_NoiseMode		equ	WTD_SweepLevel	;
 = WTD_Program		      C WTD_Voice		equ	WTD_Program	;
 = WTD_ProgramRate	      C WTD_VoiceRate		equ	WTD_ProgramRate	;
 = WTD_ProgramCnt	      C WTD_VoiceCnt		equ	WTD_ProgramCnt	;
 = WTD_Program1st	      C WTD_Voice1st		equ	WTD_Program1st	;
 = WTD_Program2nd	      C WTD_Voice2nd		equ	WTD_Program2nd	;
 = WTD_Program3rd	      C WTD_Voice3rd		equ	WTD_Program3rd	;
 = WTD_Bend		      C WTD_Frection		equ	WTD_Bend	;
 = WTD_BendSet		      C WTD_FrectionSet		equ	WTD_BendSet	;
 = WTD_ExprPanSet	      C WTD_Velocity		equ	WTD_ExprPanSet	;
 = WTD_LoopCount	      C WTD_PcmAddress		equ	WTD_LoopCount	;”­¶’†ƒAƒhƒŒƒX
 = WTD_LoopCount+4	      C WTD_PcmSize		equ	WTD_LoopCount+4	;”­¶I—¹ƒAƒhƒŒƒX
			      C ;---------------------------------------------------------------
			      C ;ƒp[ƒgŒÂ•Ê\‘¢‘Ì’è‹`
 007A			      C WTD			struc			;Šeƒp[ƒgŒÂ•Ê—p	
 0000  0000		      C WTD_FlagControl		dw	?		;00-01	ƒtƒ‰ƒO
 0002  00		      C WTD_FlagTai		db	?		;02	ƒ^ƒCƒtƒ‰ƒO
 0003  00		      C WTD_FlagSharp		db	?		;03	#ƒtƒ‰ƒO
 0004  00		      C WTD_FlagFlat		db	?		;04	bƒtƒ‰ƒO
 0005  00		      C WTD_Channel		db	?		;05	Á¬ÝÈÙ/Ä×¯¸
 0006  0000		      C WTD_Address		dw	?		;06-07	‰‰‘t’†‚Ì±ÄÞÚ½
 0008  0008 [		      C WTD_LoopCount		db	8	dup(?)	;08-0F	ƒ‹[ƒv‰ñ”/PCM Address
        00
       ]
 0010  00		      C WTD_LoopCountPointer	db	?		;10	ã‹LÎß²ÝÀ
 0011  00		      C WTD_Program		db	?		;11	o—Í‚µ‚½‰¹F
 0012  00		      C WTD_SweepLevel		db	?		;12	½³¨°Ìß’l/É²½ÞÓ°ÄÞ
 0013  00		      C WTD_SweepTime		db	?		;13	½³¨°ÌßŽžŠÔ
 0014  0000		      C WTD_Leng		dw	?		;14-15	‰¹’·
 0016  0000		      C WTD_LengCounter		dw	?		;16-17	‰¹’·ƒJƒEƒ“ƒ^[
 0018  0000		      C WTD_LengDefault		dw	?		;18-19	ÃÞÌ«ÙÄ‚Ì‰¹’·
 001A  0000		      C WTD_KeyOffTime		dw	?		;1A-1B	¹Þ°ÄÀ²Ñ§Œä’l
 001C  0000		      C WTD_KeyOnDelay		dw	?		;1C-1D	·°µÝÃÞ¨Ú²
 001E  00		      C WTD_KeyShift		db	?		;1E	ˆÚ’²’l
 001F  00		      C WTD_Key			db	?		;1F	‰¹’ö
 0020  0008 [		      C WTD_KeySet		db	8	dup(?)	;20-27	o—Í‚µ‚½‰¹’ö
        00
       ]
 0028  00		      C WTD_KeySetPointer	db	?		;28	ã‹LÎß²ÝÀ
 0029  00		      C WTD_AcsentVelocity	db	?		;29	ƒAƒNƒZƒ“ƒg’l
 002A  0000		      C WTD_BendSet		dw	?		;2A-2B	o—Í‚µ‚½Žü”g”
 002C  0000		      C WTD_Bend		dw	?		;2C-2D	Žw’èŽü”g”
 002E  0000		      C WTD_BendDetune		dw	?		;2E-2F	ƒfƒBƒ`ƒ…[ƒ“
 0030  00		      C WTD_BendLfoDecayRate	db	?		;30	LFOƒfƒBƒPƒCƒŒƒCƒg
 0031  00		      C WTD_BendLfoSpeedRate	db	?		;31	LFOƒXƒs[ƒh
 0032  0000		      C WTD_BendLfoLevel	dw	?		;32-33	LFO•ÏˆÊÚÍÞÙ
 0034  00		      C WTD_BendLfoCount	db	?		;34	LFO•Ï‰»‰ñ”
 0035  00		      C WTD_BendLfoRateCounter	db	?		;35	LFOƒŒƒCƒg—pƒJƒEƒ“ƒ^
 0036  0000		      C WTD_BendLfoLevelSet	dw	?		;36-37	LFOŒ»Ý‚Ì•ÏˆÊÚÍÞÙ
 0038  00		      C WTD_BendLfoCountCounter	db	?		;38	LFO‰ñ”—pƒJƒEƒ“ƒ^
 0039  00		      C WTD_BendEmbAddress	db	?		;39	EMB”Ô†i±ÄÞÚ½j
 003A  00		      C WTD_BendEmbRate		db	?		;3A	EMBƒŒƒCƒg
 003B  00		      C WTD_BendEmbCounter	db	?		;3B	EMBƒJƒEƒ“ƒ^[
 003C  00		      C WTD_BendEmbMaxMin	db	?		;3C	EMBÅ‘å^Å¬’l
 003D  00		      C WTD_BendEmbLevelSet	db	?		;3D	EMB•ÏˆÊÚÍÞÙ
 003E  00		      C WTD_ReleaseVolume	db	?		;3E	KeyOffŽž‚Ì‰¹—Ê
 003F  00		      C WTD_ExprPanSet		db	?		;3F	o—Í/³ÞªÛ¼Ã¨°
 0040  00		      C WTD_ExprSet		db	?		;40	o—Í‰¹—Ê/´¸½ÌßÚ¯¼®Ý
 0041  00		      C WTD_Expr		db	?		;41	‰¹—Ê/´¸½ÌßÚ¯¼®Ý
 0042  0000		      C WTD_ExprDetune		dw	?		;42-43	‰¹—Ê‘Œ¸’l
 0044  00		      C WTD_ExprLfoDecayRate	db	?		;44	LFOƒfƒBƒPƒCƒŒƒCƒg
 0045  00		      C WTD_ExprLfoSpeedRate	db	?		;45	LFOƒXƒs[ƒh
 0046  0000		      C WTD_ExprLfoLevel	dw	?		;46-47	LFO•ÏˆÊÚÍÞÙ
 0048  00		      C WTD_ExprLfoCount	db	?		;48	LFO•Ï‰»‰ñ”
 0049  00		      C WTD_ExprLfoRateCounter	db	?		;49	LFOƒŒƒCƒg—pƒJƒEƒ“ƒ^
 004A  0000		      C WTD_ExprLfoLevelSet	dw	?		;4A-4B	LFOŒ»Ý‚Ì•ÏˆÊÚÍÞÙ
 004C  00		      C WTD_ExprLfoCountCounter	db	?		;4C	LFO‰ñ”—pƒJƒEƒ“ƒ^
 004D  00		      C WTD_ExprEmbAddress	db	?		;4D	EMB”Ô†i±ÄÞÚ½j
 004E  00		      C WTD_ExprEmbRate		db	?		;4E	EMBƒŒƒCƒg
 004F  00		      C WTD_ExprEmbCounter	db	?		;4F	EMBƒJƒEƒ“ƒ^[
 0050  00		      C WTD_ExprEmbMaxMin	db	?		;50	EMBÅ‘å^Å¬’l
 0051  00		      C WTD_ExprEmbLevelSet	db	?		;51	EMB•ÏˆÊÚÍÞÙ
 0052  00		      C WTD_WorkAddress		db	?		;52	ƒ[ƒN±ÄÞÚ½ãˆÊ8BIT
 0053  00		      C WTD_OctaveSet		db	?		;53	o—Í‚µ‚½ƒIƒNƒ^[ƒu
 0054  00		      C WTD_Octave		db	?		;54	Žw’èƒIƒNƒ^[ƒu
 0055  00		      C WTD_GateTime8		db	?		;55	¹Þ°ÄÀ²ÑiQ,U)
 0056  0000		      C WTD_GateTimeStepLast	dw	?		;56-57	¹Þ°ÄÀ²Ñ(q)
 0058  0000		      C WTD_GateTimeStepFirst	dw	?		;58-59	¹Þ°ÄÀ²Ñ(u)
 005A  00		      C WTD_VolumeUpDown	db	?		;5A	‘Š‘Îƒ{ƒŠƒ…[ƒ€‚Ì‘Œ¸’l
 005B  0000		      C WTD_ModDecay		dw	?		;5B-5C	Ó¼Þ­Ú°¼®Ý ÃÞ¨¹²Ú²Ä
 005D  00		      C WTD_ModLevel		db	?		;5D	Ó¼Þ­Ú°¼®Ý ÚÍÞÙ
 005E  00		      C WTD_ModLevelSet		db	?		;5E	Œ»Ý‚ÌÓ¼Þ­Ú°¼®Ý ÚÍÞÙ
 005F  00		      C WTD_Null_5F		db	?		;5F	–¢Žg—p
 0060  00		      C WTD_PanSet		db	?		;60	o—Íƒpƒ“ƒ|ƒbƒg
 0061  00		      C WTD_Pan			db	?		;61	ƒpƒ“ƒ|ƒbƒg
 0062  0000		      C WTD_PanDetune		dw	?		;62-63	‰¹—Ê‘Œ¸’l
 0064  00		      C WTD_PanLfoDecayRate	db	?		;64	LFOƒfƒBƒPƒCƒŒƒCƒg
 0065  00		      C WTD_PanLfoSpeedRate	db	?		;65	LFOƒXƒs[ƒh
 0066  0000		      C WTD_PanLfoLevel		dw	?		;66-67	LFO•ÏˆÊÚÍÞÙ
 0068  00		      C WTD_PanLfoCount		db	?		;68	LFO•Ï‰»‰ñ”
 0069  00		      C WTD_PanLfoRateCounter	db	?		;69	LFOƒŒƒCƒg—pƒJƒEƒ“ƒ^
 006A  0000		      C WTD_PanLfoLevelSet	dw	?		;6A-6B	LFOŒ»Ý‚Ì•ÏˆÊÚÍÞÙ
 006C  00		      C WTD_PanLfoCountCounter	db	?		;6C	LFO‰ñ”—pƒJƒEƒ“ƒ^
 006D  00		      C WTD_PanEmbAddress	db	?		;6D	EMB”Ô†i±ÄÞÚ½j
 006E  00		      C WTD_PanEmbRate		db	?		;6E	EMBƒŒƒCƒg
 006F  00		      C WTD_PanEmbCounter	db	?		;6F	EMBƒJƒEƒ“ƒ^[
 0070  00		      C WTD_PanEmbMaxMin	db	?		;60	EMBÅ‘å^Å¬’l
 0071  00		      C WTD_PanEmbLevelSet	db	?		;61	EMB•ÏˆÊÚÍÞÙ
 0072  0000		      C WTD_ProgramRate		dw	?		;62-63	‰¹F‚ð•Ï‚¦‚éB
 0074  00		      C WTD_Program1st		db	?		;64	‰¹F‚Ì‰Šú’l
 0075  00		      C WTD_Program2nd		db	?		;65	ŒoŽž•Ï‰»
 0076  00		      C WTD_Program3rd		db	?		;66	KeyOffŒã‰¹F
 0077  00		      C WTD_ProgramDecay	db	?		;67	ŒoŽž•Ï‰»‚Q
 0078  0000		      C WTD_ProgramDecayRate	dw	?		;68-69	‰¹F‚ð•Ï‚¦‚é‚Q
			      C 
			      C WTD			ends
			      C ;---------------------------------------------------------------
			      C ;\‘¢‘ÌˆÊ’u
 = WTD_BendLfoDecayRate	      C WTD_BendLFO		equ	WTD_BendLfoDecayRate	;ChLFO\‘¢‘Ìæ“ª
 = WTD_ExprLfoDecayRate	      C WTD_ExprLFO		equ	WTD_ExprLfoDecayRate	;ChLFO\‘¢‘Ìæ“ª
 = WTD_PanLfoDecayRate	      C WTD_PanLFO		equ	WTD_PanLfoDecayRate	;ChLFO\‘¢‘Ìæ“ª
 = WTD_BendEmbAddress	      C WTD_BendEmb		equ	WTD_BendEmbAddress	;ChEmb\‘¢‘Ìæ“ª
 = WTD_ExprEmbAddress	      C WTD_ExprEmb		equ	WTD_ExprEmbAddress	;ChEmb\‘¢‘Ìæ“ª
 = WTD_PanEmbAddress	      C WTD_PanEmb		equ	WTD_PanEmbAddress	;ChEmb\‘¢‘Ìæ“ª
			      C 
			      C ;ChLFO\‘¢‘Ì
 0009			      C WTD_ChLfo		struc
 0000  00		      C WTD_ChLfo_DecayRate	db	?		;	LFOƒfƒBƒPƒCƒŒƒCƒg
 0001  00		      C WTD_ChLfo_SpeedRate	db	?		;	LFOƒXƒs[ƒh
 0002  0000		      C WTD_ChLfo_Level		dw	?		;	LFO•ÏˆÊÚÍÞÙ
 0004  00		      C WTD_ChLfo_Count		db	?		;	LFO•Ï‰»‰ñ”
 0005  00		      C WTD_ChLfo_RateCounter	db	?		;	LFOƒŒƒCƒg—pƒJƒEƒ“ƒ^
 0006  0000		      C WTD_ChLfo_LevelSet	dw	?		;	LFOŒ»Ý‚Ì•ÏˆÊÚÍÞÙ
 0008  00		      C WTD_ChLfo_CountCounter	db	?		;	LFO‰ñ”—pƒJƒEƒ“ƒ^
			      C WTD_ChLfo		ends
			      C ;ChEmb\‘¢‘Ì
 0005			      C WTD_ChEmb		struc
 0000  00		      C WTD_ChEmb_Address	db	?		;	EMB”Ô†i±ÄÞÚ½j
 0001  00		      C WTD_ChEmb_Rate		db	?		;	EMBƒŒƒCƒg
 0002  00		      C WTD_ChEmb_Counter	db	?		;	EMBƒJƒEƒ“ƒ^[
 0003  00		      C WTD_ChEmb_MaxMin	db	?		;	EMBÅ‘å^Å¬’l
 0004  00		      C WTD_ChEmb_LevelSet	db	?		;	EMB•ÏˆÊÚÍÞÙ
			      C WTD_ChEmb		ends
			      C ;---------------------------------------------------------------
			      C ;ƒtƒ‰ƒOƒrƒbƒgEƒZƒbƒg
 = 0001			      C WTD_Ctrl_BendLfo	equ	00001h		;‰¹’ö‚k‚e‚nƒXƒCƒbƒ`
 = 0002			      C WTD_Ctrl_BendEmb	equ	00002h		;‰¹’öƒGƒ“ƒxƒ[ƒvƒXƒCƒbƒ`
 = 0004			      C WTD_Ctrl_ExprLfo	equ	00004h		;‰¹—Ê‚k‚e‚nƒXƒCƒbƒ`
 = 0008			      C WTD_Ctrl_ExprEmb	equ	00008h		;‰¹—ÊƒGƒ“ƒxƒ[ƒvƒXƒCƒbƒ`
 = 0010			      C WTD_Ctrl_PanLfo		equ	00010h		;ƒpƒ“‚k‚e‚nƒXƒCƒbƒ`
 = 0020			      C WTD_Ctrl_PanEmb		equ	00020h		;ƒpƒ“ƒGƒ“ƒxƒ[ƒvƒXƒCƒbƒ`
 = 0040			      C WTD_Ctrl_Acsent		equ	00040h		;ŽŸ‚Ì‰¹ŠK‚ÍƒAƒNƒZƒ“ƒg
 = 0080			      C WTD_Ctrl_EmbFreq	equ	00080h		;‰¹’öƒGƒ“ƒxƒ[ƒv ãˆÊbit
 = 0100			      C WTD_Ctrl_EmbVol		equ	00100h		;‰¹—ÊƒGƒ“ƒxƒ[ƒv ãˆÊbit
 = 0200			      C WTD_Ctrl_EmbPan		equ	00200h		;ƒpƒ“ƒGƒ“ƒxƒ[ƒv ãˆÊbit
 = 0400			      C WTD_Ctrl_Vol0		equ	00400h		;‰¹—Ê‚O & Relase
 = 0800			      C WTD_Ctrl_WorkSw		equ	00800h		;ŽŸ‚ÌƒRƒ}ƒ“ƒh‚ÍAƒ[ƒNŽQÆ
 = 1000			      C WTD_Ctrl_WorkCy		equ	01000h		;ƒ[ƒN‰‰ŽZŒ‹‰ÊAƒI[ƒo[ƒtƒ[
 = 2000			      C WTD_Ctrl_WorkZe		equ	02000h		;ƒ[ƒN‰‰ŽZŒ‹‰ÊA‚O‚É‚È‚Á‚½B
 = 4000			      C WTD_Ctrl_Effect		equ	04000h		;‚±‚Ìƒp[ƒg‚ÍŒø‰Ê‰¹‚©H
 = 8000			      C WTD_Ctrl_PlayEnd	equ	08000h		;‰‰‘tI—¹
			      C ;---------------------------------------------------------------
			      C ;ƒtƒ‰ƒOƒrƒbƒgEƒŠƒZƒbƒg
 = FFFE			      C WTD_Ctrl_BendLfoR	equ	0fffeh		;‰¹’ö‚k‚e‚nƒXƒCƒbƒ`
 = FFFD			      C WTD_Ctrl_BendEmbR	equ	0fffdh		;‰¹’öƒGƒ“ƒxƒ[ƒvƒXƒCƒbƒ`
 = FFFB			      C WTD_Ctrl_ExprLfoR	equ	0fffbh		;‰¹—Ê‚k‚e‚nƒXƒCƒbƒ`
 = FFF7			      C WTD_Ctrl_ExprEmbR	equ	0fff7h		;‰¹—ÊƒGƒ“ƒxƒ[ƒvƒXƒCƒbƒ`
 = FFEF			      C WTD_Ctrl_PanLfoR	equ	0ffefh		;ƒpƒ“‚k‚e‚nƒXƒCƒbƒ`
 = FFDF			      C WTD_Ctrl_PamEmbR	equ	0ffdfh		;ƒpƒ“ƒGƒ“ƒxƒ[ƒvƒXƒCƒbƒ`
 = FFBF			      C WTD_Ctrl_AcsentR	equ	0ffbfh		;ŽŸ‚Ì‰¹ŠK‚ÍƒAƒNƒZƒ“ƒg
 = FF7F			      C WTD_Ctrl_EmbFreqR	equ	0ff7fh		;‰¹’öƒGƒ“ƒxƒ[ƒv ãˆÊbit
 = FEFF			      C WTD_Ctrl_EmbVolR	equ	0feffh		;‰¹—ÊƒGƒ“ƒxƒ[ƒv ãˆÊbit
 = FDFF			      C WTD_Ctrl_EmbPanR	equ	0fdffh		;ƒpƒ“ƒGƒ“ƒxƒ[ƒv ãˆÊbit
 = FBFF			      C WTD_Ctrl_Vol0R		equ	0fbffh		;‰¹—Ê‚O & Relase
 = F7FF			      C WTD_Ctrl_WorkSwR	equ	0f7ffh		;ŽŸ‚ÌƒRƒ}ƒ“ƒh‚ÍAƒ[ƒNŽQÆ
 = EFFF			      C WTD_Ctrl_WorkCyR	equ	0efffh		;ƒ[ƒN‰‰ŽZŒ‹‰ÊAƒI[ƒo[ƒtƒ[
 = DFFF			      C WTD_Ctrl_WorkZeR	equ	0dfffh		;ƒ[ƒN‰‰ŽZŒ‹‰ÊA‚O‚É‚È‚Á‚½B
 = BFFF			      C WTD_Ctrl_EffectR	equ	0bfffh		;‚±‚Ìƒp[ƒg‚ÍŒø‰Ê‰¹‚©H
 = 7FFF			      C WTD_Ctrl_PlayEndR	equ	07fffh		;‰‰‘tI—¹
			      C 
			      C ;===============================================================|
			      C ;		ƒp[ƒg‹¤’Êƒ[ƒN\‘¢‘Ì				|
			      C ;===============================================================|
 0034			      C WTD_Sys			struc			;ƒVƒXƒeƒ€‘S‘Ì	
 0000  0000		      C WTD_Sys_Flag		dw	?		;00	Flag
 0002  0000		      C WTD_Sys_ProgramOffset	dw	?		;02	Program Offset Address
 0004  0000		      C WTD_Sys_ProgramSegment	dw	?		;04	Program Segment Address
 0006  0000		      C WTD_Sys_MusicOffset	dw	?		;06	Music Offset Address
 0008  0000		      C WTD_Sys_MusicSegment	dw	?		;08	Music Segment Address
 000A  0000		      C WTD_Sys_EffectOffset	dw	?		;0a	Effect Offset Address
 000C  0000		      C WTD_Sys_EffectSegment	dw	?		;0c	Effect Segment Address
 000E  0000		      C WTD_Sys_PcmOffset	dw	?		;0e	Pcm Offset Address
 0010  0000		      C WTD_Sys_PcmSegment	dw	?		;10	Pcm Segment Address
 0012  0000		      C WTD_Sys_StayOutMask	dw	?		;12	í’“‰ðœ‹ÖŽ~
 0014  0002 [		      C WTD_Sys_OldIntvector	dw	2	dup(?)	;14-17	‘O‚ÌŠ„‚èž‚ÝƒxƒNƒ^
        0000
       ]
 0018  0002 [		      C WTD_Sys_OldIntvectorCom	dw	2	dup(?)	;18-1B	‘O‚ÌŠ„‚èž‚ÝƒxƒNƒ^
        0000
       ]
 001C  0000		      C WTD_Sys_ComFIFO_Offset	dw	?		;1C-1D	FIFO Offset Address
 001E  0000		      C WTD_Sys_ComFIFO_Segment	dw	?		;1E-1F	FIFO Segment Address
 0020  00		      C WTD_Sys_Null_20		db	?		;20	–¢Žg—p
 0021  00		      C WTD_Sys_VolumeMusic	db	?		;21	ƒ\ƒtƒgƒEƒFƒA‰¹—Ê ‰‰‘t
 0022  00		      C WTD_Sys_VolumeEffect	db	?		;22	ƒ\ƒtƒgƒEƒFƒA‰¹—Ê Œø‰Ê‰¹
 0023  00		      C WTD_Sys_VolumePCM	db	?		;23	ƒ\ƒtƒgƒEƒFƒA‰¹—Ê PCM
 0024  0000		      C WTD_Sys_Tempo		dw	?		;24	ƒeƒ“ƒ|
 0026  0000		      C WTD_Sys_TempoCounter	dw	?		;26	ƒeƒ“ƒ|ƒJƒEƒ“ƒ^
 0028  00		      C WTD_Sys_MusicPart	db	?		;28	‰‰‘t‚Ìƒp[ƒg”(Å‘å20)
 0029  00		      C WTD_Sys_EffectPart	db	?		;29	Œø‰Ê‰¹‚Ìƒp[ƒg”(Å‘å3)
 002A  0000		      C WTD_Sys_ComFIFO_Cnt	dw	?		;2A-2B	FIFO ƒ|ƒCƒ“ƒ^ ‘‚«ž‚Ý
 002C  0000		      C WTD_Sys_ComFIFO_Adr	dw	?		;2C-2D	FIFO ƒ|ƒCƒ“ƒ^ ‘—M
 002E  0000		      C WTD_Sys_ComFIFO_Size	dw	?		;2E-2F	FIFO ƒTƒCƒY
 0030  00		      C WTD_Sys_RunningStatus	db	?		;30	MIDI Running Status
 0031  00		      C WTD_Sys_InterruptBase	db	?		;31	Š„‚èž‚Ýƒx[ƒXƒxƒNƒ^
 0032  0000		      C WTD_Sys_VoiceTableOffset dw	?		;32	‰¹FTable(IRAM)Address
			      C WTD_Sys			ends			
			      C ;---------------------------------------------------------------
			      C ;ƒtƒ‰ƒOƒrƒbƒgEƒZƒbƒg
 = 0001			      C WTD_Sys_Music		equ	00001h		;‰‰‘t’†
 = 0002			      C WTD_Sys_Effect		equ	00002h		;Œø‰Ê‰¹”­º’†
 = 0004			      C WTD_Sys_Pcm		equ	00004h		;PCMƒ{ƒCƒX”­¶’†
 = 0008			      C WTD_Sys_3		equ	00008h		;	(Œ³FPCM VoiceI—¹)
 = 0010			      C WTD_Sys_Midi		equ	00010h		;MIDIƒ‚[ƒh(ƒVƒXƒeƒ€‚Å‚Í–¢Žg—p)
 = 0020			      C WTD_Sys_5		equ	00020h		;
 = 0040			      C WTD_Sys_6		equ	00040h		;
 = 0080			      C WTD_Sys_TimerEmulate	equ	00080h		;ƒ^ƒCƒ}[‚ðƒGƒ~ƒ…ƒŒ[ƒg’†
 = 0100			      C WTD_Sys_ChannelMode1	equ	00100h		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch1
 = 0200			      C WTD_Sys_ChannelMode2	equ	00200h		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch2
 = 0400			      C WTD_Sys_ChannelMode3	equ	00400h		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch3
 = 0800			      C WTD_Sys_ChannelMode4	equ	00800h		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch4
 = 1000			      C WTD_Sys_EffectMask1	equ	01000h		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch1
 = 2000			      C WTD_Sys_EffectMask2	equ	02000h		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch2
 = 4000			      C WTD_Sys_EffectMask3	equ	04000h		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch3
 = 8000			      C WTD_Sys_EffectMask4	equ	08000h		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch4
			      C ;---------------------------------------------------------------
			      C ;ƒtƒ‰ƒOƒrƒbƒgEƒŠƒZƒbƒg
 = FFFE			      C WTD_Sys_MusicR		equ	0fffeh		;‰‰‘t’†
 = FFFD			      C WTD_Sys_EffectR		equ	0fffdh		;Œø‰Ê‰¹”­º’†
 = FFFB			      C WTD_Sys_PcmR		equ	0fffbh		;PCMƒ{ƒCƒX”­¶’†
 = FFF7			      C WTD_Sys_3R		equ	0fff7h		;	(Œ³FPCM VoiceI—¹)
 = FFEF			      C WTD_Sys_MidiR		equ	0ffefh		;MIDIƒ‚[ƒh(ƒVƒXƒeƒ€‚Å‚Í–¢Žg—p)
 = FFDF			      C WTD_Sys_5R		equ	0ffdfh		;
 = FFBF			      C WTD_Sys_6R		equ	0ffbfh		;
 = FF7F			      C WTD_Sys_TimerEmulateR	equ	0ff7fh		;ƒ^ƒCƒ}[‚ðƒGƒ~ƒ…ƒŒ[ƒg’†
 = FEFF			      C WTD_Sys_ChannelMode1R	equ	0feffh		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch1
 = FDFF			      C WTD_Sys_ChannelMode2R	equ	0fdffh		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch2
 = FBFF			      C WTD_Sys_ChannelMode3R	equ	0fbffh		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch3
 = F7FF			      C WTD_Sys_ChannelMode4R	equ	0f7ffh		;ƒ`ƒƒƒ“ƒlƒ‹ƒ‚[ƒh ch4
 = EFFF			      C WTD_Sys_EffectMask1R	equ	0efffh		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch1
 = DFFF			      C WTD_Sys_EffectMask2R	equ	0dfffh		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch2
 = BFFF			      C WTD_Sys_EffectMask3R	equ	0bfffh		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch3
 = 7FFF			      C WTD_Sys_EffectMask4R	equ	07fffh		;Œø‰Ê‰¹ƒp[ƒgƒ}ƒXƒN ch4
			      C 
			      C ;===============================================================|
			      C ;		ƒ\ƒtƒgƒEƒFƒAƒGƒ“ƒxƒ[ƒv\‘¢‘Ì			|
			      C ;===============================================================|
 0010			      C WTD_Emb			struc
 0000  00		      C WTD_Emb_AR		db	?		;00h	:Attack Rate
 0001  00		      C WTD_Emb_AS		db	?		;01h	:Attack Speed (001h)
 0002  00		      C WTD_Emb_AL		db	?		;02h	:Attack Level (0FFh)
 0003  00		      C WTD_Emb_FL		db	?		;03h	:First Level
 0004  00		      C WTD_Emb_DR		db	?		;04h	:Decay Rate
 0005  00		      C WTD_Emb_DS		db	?		;05h	:Decay Speed (081h)
 0006  00		      C WTD_Emb_DL		db	?		;06h	:Decay Level
 0007  00		      C WTD_Emb_Null1		db	?		;07h	:–¢Žg—p
 0008  00		      C WTD_Emb_SR		db	?		;08h	:Sustain Rate
 0009  00		      C WTD_Emb_SS		db	?		;09h	:Sustain Speed (081h)
 000A  00		      C WTD_Emb_SL		db	?		;0Ah	:Sustain Level (000h)
 000B  00		      C WTD_Emb_Null2		db	?		;0Bh	:–¢Žg—p
 000C  00		      C WTD_Emb_RR		db	?		;0Ch	:Relase Rate
 000D  00		      C WTD_Emb_RS		db	?		;0Dh	:Relase Speed (081h)
 000E  00		      C WTD_Emb_RL		db	?		;0Eh	:Relase Level (000h)
 000F  00		      C WTD_Emb_Null3		db	?		;0Fh	:–¢Žg—p
			      C WTD_Emb			ends				
			      C 
			      C ;===============================================================|
			      C ;			‹Èƒf[ƒ^\‘¢‘Ì				|
			      C ;===============================================================|
 0012			      C WTD_Mus			struc
 0000  0004 [		      C WTD_Mus_Name		db	4	dup(?)	;00-03h	:‘I•ÊŽq
        00
       ]
 0004  0000		      C WTD_Mus_Version		dw	?		;04-05h	:Version
 0006  0000		      C WTD_Mus_Extr		dw	?		;06-07h	:Šg’£ƒwƒbƒ_ƒTƒCƒY
 0008  00		      C WTD_Mus_Emb		db	?		;08h	:ƒGƒ“ƒxƒ[ƒv”—Ê
 0009  00		      C WTD_Mus_Voice		db	?		;09h	:”gŒ`ƒf[ƒ^”—Ê
 000A  00		      C WTD_Mus_Part		db	?		;0Ah	:ƒp[ƒg”
 000B  00		      C WTD_Mus_TimeBase	db	?		;0Bh	:‚S•”‰¹•„‚Ì•ªŠ„”
 000C  0000		      C WTD_Mus_ExtrAdr		dw	?		;0Ch	:Šg’£ƒwƒbƒ_‚ÌƒAƒhƒŒƒX
 000E  0000		      C WTD_Mus_DataAdr		dw	?		;0Eh	:ƒf[ƒ^‚ÌƒAƒhƒŒƒX
 0010  0000		      C WTD_Mus_PartAdr		dw	?		;10h	:‹Èƒf[ƒ^ƒAƒhƒŒƒX
			      C WTD_Mus			ends
			      C 
			      C ;===============================================================|
			      C ;			Šg’£ƒwƒbƒ_[\‘¢‘Ì’è‹`			|
			      C ;===============================================================|
 0000			      C WTD_MusEx		struc
			      C ;
			      C ;			Œ»ÝA–¢Žg—p
			      C ;
			      C WTD_MusEx		ends
			      C 
			      C 
				;include	DAT2ASM.INC	;
				include	D2A_CNV.ASM	;convert routine
			      C ;=======================================================================|
			      C ;									|
			      C ;		Wander Swan Total Sound Driver				|
			      C ;				MML Compiler Program			|
			      C ;				Convert Routine				|
			      C ;									|
			      C ;					Programmed by			|
			      C ;						A.Watanabe		|
			      C ;									|
			      C ;=======================================================================|
			      C ;---------------------------------------------------------------|
			      C ;		ƒRƒ“ƒo[ƒg@ƒƒCƒ“ƒ‹[ƒ`ƒ“			|
			      C ;---------------------------------------------------------------|
			      C ;	œˆø”							|
			      C ;			–³‚µ					|
			      C ;	œ•Ô‚è’l						|
			      C ;			–³‚µ					|
			      C ;	œƒŒƒWƒXƒ^						|
			      C ;		es:bx	•ÏŠ·’†‚Ìƒ|ƒCƒ“ƒ^			|
			      C ;		cx	ƒTƒCƒY—pƒJƒEƒ“ƒ^			|
			      C ;		ds:dx	•¶Žš—ñ•\Ž¦—p				|
			      C ;---------------------------------------------------------------|
 0000			      C .const
 0000 0008 R		      C convert_ptStr	dw	offset convert_strDB
 0002  000E R		      C 		dw	offset convert_strDW
 0004  000E R		      C 		dw	offset convert_strDW	;Dummy
 0006  0014 R		      C 		dw	offset convert_strDD
 0008 09 44 42 09 30 24	      C convert_strDB	db	'	DB	0$'
 000E 09 44 57 09 30 24	      C convert_strDW	db	'	DW	0$'
 0014 09 44 44 09 30 24	      C convert_strDD	db	'	DD	0$'
 001A 68 0D 0A 24	      C convert_strh	db	'h',0dh,0ah,24h
 001E 0D 0A 24		      C convert_strCR	db	0dh,0ah,24h
 011F			      C .code
 011F			      C convert		proc	near		;
 011F  60		      C 		pusha			;
 0120  56		      C 		push	si		;
 0121  1E		      C 		push	ds		;
 0122  06		      C 		push	es		;ƒŒƒWƒXƒ^•Û‘¶
			      C 
 0123  2E: A1 0000 R	      C 		mov	ax,word ptr cs:[segWtd_File]
 0127  8E C0		      C 		mov	es,ax		;es©ƒƒ‚ƒŠ‚ÌƒAƒhƒŒƒX
 0129  BB 0000		      C 		mov	bx,0		;es:bx
			      C 
 012C  0E		      C 		push	cs		;
 012D  1F		      C 		pop	ds		;ds©cs
			      C 
			      C 		;ƒ‹[ƒv‰ñ”
 012E  2E: 8B 0E 0002 R	      C 		mov	cx,word ptr cs:[szWtd_File]
 0133			      C convert_loop:
			      C 		;printf("	DB	0")
 0133  53		      C 		push	bx		;
 0134  BB 0000 R	      C 		mov	bx,offset convert_ptStr
 0137  2E: A1 0000 R	      C 		mov	ax,word ptr cs:[OP_FLAG_LEN]
 013B  48		      C 		dec	ax		;
 013C  D1 E0		      C 		shl	ax,1		;
 013E  03 D8		      C 		add	bx,ax		;
 0140  2E: 8B 17	      C 		mov	dx,word ptr cs:[bx]
 0143  B4 09		      C 		mov	ah,9		;
 0145  CD 21		      C 		int	21h		;
 0147  5B		      C 		pop	bx		;
			      C 
 0148  51		      C 		push	cx		;ƒf[ƒ^’·‚¾‚¯Aƒ‹[ƒv
 0149  2E: 8B 0E 0000 R	      C 		mov	cx,word ptr cs:[OP_FLAG_LEN]
 014E			      C convert_loop_l:
			      C 		;printf("%02x",[bx])
 014E  8B F1		      C 		mov	si,cx		;
 0150  26: 8A 40 FF	      C 		mov	al,byte ptr es:[bx+si-1]
 0154  E8 0000 E	      C 		call	dat2hex8	;•¶Žš—ñ•ÏŠ·
 0157  B4 09		      C 		mov	ah,9		;
 0159  CD 21		      C 		int	21h		;•ÏŠ·Œ‹‰Ê•\Ž¦
 015B  E2 F1		      C 		loop	convert_loop_l	;
			      C 
			      C 		;printf("h\n")
 015D  BA 001A R	      C 		mov	dx,offset convert_strh
 0160  B4 09		      C 		mov	ah,9		;
 0162  CD 21		      C 		int	21h		;
			      C 
 0164  59		      C 		pop	cx		;ƒTƒCƒY•œ‹A
			      C 
 0165  2E: A1 0000 R	      C 		mov	ax,word ptr cs:[OP_FLAG_LEN]
 0169  03 D8		      C 		add	bx,ax		;bx+=OP_FLAG_LEN
 016B  2B C8		      C 		sub	cx,ax		;cx-=OP_FLAG_LEN
			      C 
 016D  9C		      C 		pushf			;
 016E  B8 0008		      C 		mov	ax,0008h	;
 0171  2E: F7 26 0000 R	      C 		mul	word ptr cs:[OP_FLAG_LEN]
 0176  48		      C 		dec	ax		;
 0177  85 D8		      C 		test	bx,ax		;
 0179  75 07		      C 		jnz	convert_ChkOct	;if(0==(cx&0x0007)){
 017B  BA 001E R	      C 		mov	dx,offset convert_strCR
 017E  B4 09		      C 		mov	ah,9		;	printf("\n");
 0180  CD 21		      C 		int	21h		;};
 0182			      C convert_ChkOct:
 0182  9D		      C 		popf			;
 0183  74 04		      C 		jz	convert_ChkSz	;
 0185  72 02		      C 		jc	convert_ChkSz	;
 0187  EB AA		      C 		jmp	convert_loop	;
 0189			      C convert_ChkSz:				;
			      C 
 0189			      C convert_end:				;
 0189  07		      C 		pop	es		;ƒŒƒWƒXƒ^•œ‹A
 018A  1F		      C 		pop	ds		;
 018B  5E		      C 		pop	si		;
 018C  61		      C 		popa			;
 018D  C3		      C 		ret			;
 018E			      C convert		endp			;
			      C 
				;===============================================================|
				;								|
				;		ƒIƒvƒVƒ‡ƒ“ˆ—					|
				;								|
				;===============================================================|
				;****************************************************************
				;*		ƒIƒvƒVƒ‡ƒ“ƒtƒ‰ƒO—§‚Ä				*
				;****************************************************************
 0021				.const
 0021 83 49 83 76 83 56		OPTION_ERROR_MSG	db	'ƒIƒvƒVƒ‡ƒ“‚ª•s³‚Å‚·B',0dh,0ah,24h
       83 87 83 93 82 AA
       95 73 90 B3 82 C5
       82 B7 81 42 0D 0A
       24
 018E				.code
 018E				OPTION_ERROR	proc	near
 018E  8D 16 0021 R			lea	dx,[OPTION_ERROR_MSG]
 0192  EB 80				jmp	PRINT_ERR
 0194				OPTION_ERROR	endp
				;****************************************************************
				;*		ƒIƒvƒVƒ‡ƒ“ƒtƒ‰ƒO—§‚Ä				*
				;****************************************************************
 003A				.const
 003A 0D 0A			OP_HELP	DB	0DH,0AH
 003C  09 43 6F 6E 76 65		DB	"	Converter from a binary to a DB command",0DH,0AH
       72 74 65 72 20 66
       72 6F 6D 20 61 20
       62 69 6E 61 72 79
       20 74 6F 20 61 20
       44 42 20 63 6F 6D
       6D 61 6E 64 0D 0A
 0066  09 09 09 50 72 6F		DB	"			Programmed by  A.Watanabe",0DH,0AH
       67 72 61 6D 6D 65
       64 20 62 79 20 20
       41 2E 57 61 74 61
       6E 61 62 65 0D 0A
 0084  0D 0A				DB	0DH,0AH
 0086  09 20 1B 5B 33 32		DB	"	 [32;4m Filename[32;0m [m"
       3B 34 6D 20 46 69
       6C 65 6E 61 6D 65
       1B 5B 33 32 3B 30
       6D 20 1B 5B 6D
 00A3  83 74 83 40 83 43		DB	"ƒtƒ@ƒCƒ‹‚Ì“Ç‚Ýž‚Ý",0DH,0AH
       83 8B 82 CC 93 C7
       82 DD 8D 9E 82 DD
       0D 0A
 00B7  09 3E 1B 5B 33 32		DB	"	>[32;4m Filename[32;0m [m"
       3B 34 6D 20 46 69
       6C 65 6E 61 6D 65
       1B 5B 33 32 3B 30
       6D 20 1B 5B 6D
 00D4  83 74 83 40 83 43		DB	"ƒtƒ@ƒCƒ‹‚Ö‘‚«ž‚Ý",0DH,0AH
       83 8B 82 D6 8F 91
       82 AB 8D 9E 82 DD
       0D 0A
 00E8  09 2F 42 20 3A 20		DB	"	/B : DB–½—ßo—ÍiBytej",0DH,0AH
       44 42 96 BD 97 DF
       8F 6F 97 CD 81 69
       42 79 74 65 81 6A
       0D 0A
 0102  09 2F 57 20 3A 20		DB	"	/W : DW–½—ßo—ÍiWordj",0DH,0AH
       44 57 96 BD 97 DF
       8F 6F 97 CD 81 69
       57 6F 72 64 81 6A
       0D 0A
 011C  09 2F 44 20 3A 20		DB	"	/D : DD–½—ßo—ÍiDouble Wordj",0DH,0AH
       44 44 96 BD 97 DF
       8F 6F 97 CD 81 69
       44 6F 75 62 6C 65
       20 57 6F 72 64 81
       6A 0D 0A
 013D  09 2F 3F 20 3A 83		DB	"	/? :ƒwƒ‹ƒv‚Ì•\Ž¦",0DH,0AH
       77 83 8B 83 76 82
       CC 95 5C 8E A6 0D
       0A
 0150  24				DB	024H
 0194				.code
 0194				OPTION_HELP	proc	near
 0194  0E				push	cs
 0195  1F				pop	ds
 0196  8D 16 003A R			lea	DX,[OP_HELP]		;•\Ž¦
 019A  B4 09				MOV	AH,09H			;
 019C  CD 21				INT	21H			;
					.exit	0
 019E  B8 4C00		   *	    mov    ax, 04C00h
 01A1  CD 21		   *	    int    021h
 01A3				OPTION_HELP	endp			;
				;****************************************************************
				;*		ƒIƒvƒVƒ‡ƒ“ˆ—					*
				;****************************************************************
				;œˆø”								*
				;	ptFilename	ƒtƒ@ƒCƒ‹–¼‚ð“ü‚ê‚éƒ|ƒCƒ“ƒ^		*
				;œ•Ô‚è’l							*
				;	ptFilename[]	ƒIƒvƒVƒ‡ƒ“•¶Žš—ñ‚ÅŽw’è‚³‚ê‚½ƒtƒ@ƒCƒ‹–¼	*
				;œŽg—pƒŒƒWƒXƒ^							*
				;	ds:si		ƒIƒvƒVƒ‡ƒ“•¶Žš—ñƒAƒhƒŒƒX		*
				;	es:di		ptFilename				*
				;	ax		”Ä—p					*
				;	cx		ƒIƒvƒVƒ‡ƒ“•¶Žš—ñÅIƒAƒhƒŒƒX{‚P	*
				;****************************************************************
 01A3				.code
 01A3				Op_	proc	near	uses ds es,
						ptFilename:DWORD	;ƒtƒ@ƒCƒ‹–¼‚ð“ü‚ê‚éƒ|ƒCƒ“ƒ^

					local	cDebug:BYTE		;ƒfƒoƒbƒO‚ÌÝ’è—L–³
					local	cHelp:BYTE		;ƒwƒ‹ƒv•\Ž¦‚Ì—L–³
					local	dotFlag:BYTE		;ƒtƒ@ƒCƒ‹–¼‚ÌŠg’£Žq‚Ì—L–³

 01A3  55		   *	    push   bp
 01A4  8B EC		   *	    mov    bp, sp
 01A6  83 C4 FC		   *	    add    sp, 0FFFCh
 01A9  1E		   *	    push   ds
 01AA  06		   *	    push   es
 01AB  60				pusha

					;-----------------------
					;ƒtƒ‰ƒO—§‚Ä
 01AC  33 C0				xor	ax,ax			;ax © 0
 01AE  C4 7E 04				les	di,ptFilename		;
 01B1  AA				stosb				;æ“ª‚É‚¾‚¯A0‚ð“ü‚ê‚Ä‚¨‚­B
 01B2  88 46 FF				mov	cDebug,al		;
 01B5  88 46 FE				mov	cHelp,al		;
 01B8  88 46 FD				mov	dotFlag,al		;

 01BB  0E				push	cs			;
 01BC  1F				pop	ds			;DS©CS
 01BD  BE 0080				MOV	si,0080H		;BX©ƒIƒvƒVƒ‡ƒ“•¶Žš—ñæ“ªƒAƒhƒŒƒX|‚P
 01C0  AC				lodsb				;AL©ƒIƒvƒVƒ‡ƒ“•¶Žš”
 01C1  03 C6				ADD	ax,si			;
 01C3  8B C8				MOV	cx,ax			;CX©ƒI[ƒvƒVƒ‡ƒ“•¶Žš—ñÅI”Ô’n

				    .while	(cx>=si)
 01C5  E9 00A0		   *	    jmp    @C0001
 01C8			   *@C0002:

 01C8  AC				lodsb

					.if	(al<21h)
 01C9  3C 21		   *	    cmp    al, 021h
 01CB  73 06		   *	    jae    @C0003
						.continue
 01CD  E9 0098		   *	    jmp    @C0001

					.elseif	((al=='/')||(al=='-'))
 01D0  E9 0095		   *	    jmp    @C0006
 01D3			   *@C0003:
 01D3  3C 2F		   *	    cmp    al, '/'
 01D5  74 04		   *	    je     @C0008
 01D7  3C 2D		   *	    cmp    al, '-'
 01D9  75 4B		   *	    jne    @C0007
 01DB			   *@C0008:
						.if	(cx<si)
 01DB  3B CE		   *	    cmp    cx, si
 01DD  73 02		   *	    jae    @C000A
 01DF  EB AD						JMP	OPTION_ERROR	;‚¾‚Á‚½‚çƒGƒ‰[
						.endif

 01E1			   *@C000A:
 01E1  AC					lodsb
						.if	((al=='h')||(al=='H')||(al=='?'))
 01E2  3C 68		   *	    cmp    al, 'h'
 01E4  74 08		   *	    je     @C000D
 01E6  3C 48		   *	    cmp    al, 'H'
 01E8  74 04		   *	    je     @C000D
 01EA  3C 3F		   *	    cmp    al, '?'
 01EC  75 06		   *	    jne    @C000C
 01EE			   *@C000D:
 01EE  C6 46 FE FF					mov	cHelp,0FFh
						.elseif	((al=='b')||(al=='B'))
 01F2  EB 74		   *	    jmp    @C0010
 01F4			   *@C000C:
 01F4  3C 62		   *	    cmp    al, 'b'
 01F6  74 04		   *	    je     @C0012
 01F8  3C 42		   *	    cmp    al, 'B'
 01FA  75 07		   *	    jne    @C0011
 01FC			   *@C0012:
 01FC  C6 06 0000 R 01					mov	OP_FLAG_LEN, 1
						.elseif	((al=='w')||(al=='W'))
 0201  EB 65		   *	    jmp    @C0014
 0203			   *@C0011:
 0203  3C 77		   *	    cmp    al, 'w'
 0205  74 04		   *	    je     @C0016
 0207  3C 57		   *	    cmp    al, 'W'
 0209  75 07		   *	    jne    @C0015
 020B			   *@C0016:
 020B  C6 06 0000 R 02					mov	OP_FLAG_LEN, 2
						.elseif	((al=='d')||(al=='D'))
 0210  EB 56		   *	    jmp    @C0018
 0212			   *@C0015:
 0212  3C 64		   *	    cmp    al, 'd'
 0214  74 04		   *	    je     @C001A
 0216  3C 44		   *	    cmp    al, 'D'
 0218  75 07		   *	    jne    @C0019
 021A			   *@C001A:
 021A  C6 06 0000 R 04					mov	OP_FLAG_LEN, 4
						.else
 021F  EB 47		   *	    jmp    @C001C
 0221			   *@C0019:
 0221  E9 FF6A						JMP	OPTION_ERROR	;–³‚©‚Á‚½‚çƒGƒ‰[
						.endif

					.else
 0224  EB 42		   *	    jmp    @C001D
 0226			   *@C0007:
 0226  C4 7E 04					les	di,ptFilename		;ƒtƒ@ƒCƒ‹–¼‚ð“ü‚ê‚éƒ|ƒCƒ“ƒ^
						.if	(byte ptr es:[di] != 0)
 0229  26: 80 3D 00	   *	    cmp    byte ptr es : [di], 000h
 022D  74 03		   *	    je     @C001E
 022F  E9 FF5C						JMP	OPTION_ERROR	;ƒtƒ@ƒCƒ‹–¼‚ª‚Q‚Â‘‚¢‚Ä‚ ‚é‚æ‚§`
						.endif

 0232			   *@C001E:
 0232  4E					dec	si			;ƒ|ƒCƒ“ƒ^ˆê‚Â–ß‚·
 0233  C6 46 FD 00				mov	dotFlag,0
						.while	(cx>=si)
 0237  EB 13		   *	    jmp    @C0020
 0239			   *@C0021:
 0239  AC						lodsb
							.if	(al == '.')
 023A  3C 2E		   *	    cmp    al, '.'
 023C  75 06		   *	    jne    @C0022
 023E  C6 46 FD 01						mov	dotFlag,1
							.elseif	(al < 21h)
 0242  EB 07		   *	    jmp    @C0024
 0244			   *@C0022:
 0244  3C 21		   *	    cmp    al, 021h
 0246  73 03		   *	    jae    @C0025
 0248  4E							dec	si
								.break		;21h–¢–ž‚¾‚Á‚½‚çI‚í‚èB
 0249  EB 05		   *	    jmp    @C0027
							.endif
 024B			   *@C0025:
 024B			   *@C0024:
 024B  AA						stosb			;ƒtƒ@ƒCƒ‹–¼ƒZƒbƒg
						.endw
 024C			   *@C0020:
 024C  3B CE		   *	    cmp    cx, si
 024E  73 E9		   *	    jae    @C0021

						.if	(dotFlag==0)		;Šg’£Žq‚ª’è‹`‚³‚ê‚È‚©‚Á‚½‚ç’è‹`
 0250			   *@C0027:
 0250  80 7E FD 00	   *	    cmp    dotFlag, 000h
 0254  75 0C		   *	    jne    @C0029
 0256  B0 2E						mov	al,'.'
 0258  AA						stosb
 0259  B0 57						mov	al,'W'		;".WTD"‚É‚·‚éBˆê‰žA‘å•¶Žš‚ÅB
 025B  AA						stosb
 025C  B0 54						mov	al,'T'
 025E  AA						stosb
 025F  B0 44						mov	al,'D'
 0261  AA						stosb
						.endif

 0262			   *@C0029:
 0262  B0 00					mov	al,0			;
 0264  AA					stosb
 0265  B0 24					mov	al,24h			;
 0267  AA					stosb
					.endif

				    .endw
 0268			   *@C001D:
 0268			   *@C0006:
 0268			   *@C001C:
 0268			   *@C0018:
 0268			   *@C0014:
 0268			   *@C0010:
 0268			   *@C0001:
 0268  3B CE		   *	    cmp    cx, si
 026A  72 03 E9 FF59	   *	    jae    @C0002

					;-----------------------
					;ƒtƒ‰ƒO‚É‰ž‚¶‚½ˆ—
					;œƒwƒ‹ƒv
					.if	(cHelp != 0)
 026F  80 7E FE 00	   *	    cmp    cHelp, 000h
 0273  74 03		   *	    je     @C002C
 0275  E9 FF1C					jmp	OPTION_HELP		;
					.endif
 0278			   *@C002C:

					;œƒtƒ@ƒCƒ‹ˆ—
 0278  C4 7E 04				les	di,ptFilename			;ƒtƒ@ƒCƒ‹–¼‚ª‚ ‚éƒ|ƒCƒ“ƒ^
					.if	(byte ptr es:[di] != 0)
 027B  26: 80 3D 00	   *	    cmp    byte ptr es : [di], 000h
 027F  74 28		   *	    je     @C002E
						invoke	Change_Current_Directory,	addr es:[di]
 0281  06		   *	    push   es
 0282  8D 05		   *	    lea    ax,  es:[+di]
 0284  50		   *	    push   ax
 0285  E8 0000 E	   *	    call   Change_Current_Directory

						;ƒI[ƒvƒ“
						invoke	File_Open,			addr es:[di],	0
 0288  6A 00		   *	    push   +00000h
 028A  06		   *	    push   es
 028B  8D 05		   *	    lea    ax,  es:[+di]
 028D  50		   *	    push   ax
 028E  E8 0000 E	   *	    call   File_Open
 0291  50					push	ax

						;ƒ[ƒh
 0292  2E: 8E 1E 0000 R				mov	ds,word ptr CS:[segWtd_File]
						invoke	File_Load,	ax,addr ds:0
 0297  1E		   *	    push   ds
 0298  6A 00		   *	    push   OFFSET ds:+00000h
 029A  50		   *	    push   ax
 029B  E8 0000 E	   *	    call   File_Load
 029E  2E: A3 0002 R				mov	word ptr CS:[szWtd_File],ax

						;ƒNƒ[ƒY
 02A2  58					pop	ax
						invoke	File_Close,	ax
 02A3  50		   *	    push   ax
 02A4  E8 0000 E	   *	    call   File_Close
					.else
 02A7  EB 03		   *	    jmp    @C0030
 02A9			   *@C002E:
 02A9  E9 FEE8					jmp	OPTION_HELP	;ƒtƒ@ƒCƒ‹–¼‚ÌŽw’è‚ª–³‚¯‚ê‚ÎA
					.endif
 02AC			   *@C0030:

 02AC  61				popa
					RET				;RETURN
 02AD  07		   *	    pop    es
 02AE  1F		   *	    pop    ds
 02AF  8B E5		   *	    mov    sp, bp
 02B1  5D		   *	    pop    bp
 02B2  C2 0004		   *	    ret    00004h
 02B5				Op_	endp
				;=======================================================================|
				;				main					|
				;=======================================================================|
 02B5				_main	proc	near

					local	cFilename[134]:BYTE		;ƒtƒ@ƒCƒ‹–¼

					;-------------------------------
					;¡ƒƒ‚ƒŠƒI[ƒvƒ“
 02B5  55		   *	    push   bp
 02B6  8B EC		   *	    mov    bp, sp
 02B8  81 C4 FF7A	   *	    add    sp, 0FF7Ah
					invoke	Memory_Open,	01000h	;
 02BC  68 1000		   *	    push   +01000h
 02BF  E8 0000 E	   *	    call   Memory_Open
 02C2  2E: A3 0000 R			mov	word ptr cs:[segWtd_File],ax
 02C6  8E C0				mov	es,ax				;DS©WTD SEGMENT

					;-------------------------------
					;¡ƒIƒvƒVƒ‡ƒ“ˆ—
					invoke	Op_,	addr ss:cFilename	;ƒIƒvƒVƒ‡ƒ“‚É‹Lq‚³‚ê‚½ƒtƒ@ƒCƒ‹–¼‚ðŽæ“¾‚·‚éB
 02C8  16		   *	    push   ss
 02C9  8D 86 FF7A	   *	    lea    ax, byte  ptr ss:[bp]+07Ah
 02CD  50		   *	    push   ax
 02CE  E8 FED2		   *	    call   Op_

					;-------------------------------
					;¡ƒRƒ“ƒpƒCƒ‹
					invoke	convert				;
 02D1  E8 FE4B		   *	    call   convert

					;-------------------------------
					;¡ƒƒ‚ƒŠ‚Ì‰ð•ú
					invoke	Memory_Close,	es
 02D4  06		   *	    push   es
 02D5  E8 0000 E	   *	    call   Memory_Close

					ret
 02D8  8B E5		   *	    mov    sp, bp
 02DA  5D		   *	    pop    bp
 02DB  C3		   *	    ret    00000h
 02DC				_main	endp
				;=======================================================================|
				;				End					|
				;=======================================================================|
					END
Microsoft (R) Macro Assembler Version 6.11		    04/22/12 02:03:04
DAT2ASM.asm						     Symbols 2 - 1




Macros:

                N a m e                 Type

WTD_WorkGet  . . . . . . . . . .	Proc


Structures and Unions:

                N a m e                  Size
                                         Offset      Type

RiffHed  . . . . . . . . . . . .	 0009
  RiffHed_Head . . . . . . . . .	 0000	     Byte
  RiffHed_Size . . . . . . . . .	 0004	     DWord
  RiffHed_Data . . . . . . . . .	 0008	     Byte
Riff . . . . . . . . . . . . . .	 000D
  Riff_Head  . . . . . . . . . .	 0000	     Byte
  Riff_Size  . . . . . . . . . .	 0004	     DWord
  Riff_Type  . . . . . . . . . .	 0008	     Byte
  Riff_Data  . . . . . . . . . .	 000C	     Byte
WTD_ChEmb  . . . . . . . . . . .	 0005
  WTD_ChEmb_Address  . . . . . .	 0000	     Byte
  WTD_ChEmb_Rate . . . . . . . .	 0001	     Byte
  WTD_ChEmb_Counter  . . . . . .	 0002	     Byte
  WTD_ChEmb_MaxMin . . . . . . .	 0003	     Byte
  WTD_ChEmb_LevelSet . . . . . .	 0004	     Byte
WTD_ChLfo  . . . . . . . . . . .	 0009
  WTD_ChLfo_DecayRate  . . . . .	 0000	     Byte
  WTD_ChLfo_SpeedRate  . . . . .	 0001	     Byte
  WTD_ChLfo_Level  . . . . . . .	 0002	     Word
  WTD_ChLfo_Count  . . . . . . .	 0004	     Byte
  WTD_ChLfo_RateCounter  . . . .	 0005	     Byte
  WTD_ChLfo_LevelSet . . . . . .	 0006	     Word
  WTD_ChLfo_CountCounter . . . .	 0008	     Byte
WTD_Emb  . . . . . . . . . . . .	 0010
  WTD_Emb_AR . . . . . . . . . .	 0000	     Byte
  WTD_Emb_AS . . . . . . . . . .	 0001	     Byte
  WTD_Emb_AL . . . . . . . . . .	 0002	     Byte
  WTD_Emb_FL . . . . . . . . . .	 0003	     Byte
  WTD_Emb_DR . . . . . . . . . .	 0004	     Byte
  WTD_Emb_DS . . . . . . . . . .	 0005	     Byte
  WTD_Emb_DL . . . . . . . . . .	 0006	     Byte
  WTD_Emb_Null1  . . . . . . . .	 0007	     Byte
  WTD_Emb_SR . . . . . . . . . .	 0008	     Byte
  WTD_Emb_SS . . . . . . . . . .	 0009	     Byte
  WTD_Emb_SL . . . . . . . . . .	 000A	     Byte
  WTD_Emb_Null2  . . . . . . . .	 000B	     Byte
  WTD_Emb_RR . . . . . . . . . .	 000C	     Byte
  WTD_Emb_RS . . . . . . . . . .	 000D	     Byte
  WTD_Emb_RL . . . . . . . . . .	 000E	     Byte
  WTD_Emb_Null3  . . . . . . . .	 000F	     Byte
WTD_MusEx  . . . . . . . . . . .	 0000
WTD_Mus  . . . . . . . . . . . .	 0012
  WTD_Mus_Name . . . . . . . . .	 0000	     Byte
  WTD_Mus_Version  . . . . . . .	 0004	     Word
  WTD_Mus_Extr . . . . . . . . .	 0006	     Word
  WTD_Mus_Emb  . . . . . . . . .	 0008	     Byte
  WTD_Mus_Voice  . . . . . . . .	 0009	     Byte
  WTD_Mus_Part . . . . . . . . .	 000A	     Byte
  WTD_Mus_TimeBase . . . . . . .	 000B	     Byte
  WTD_Mus_ExtrAdr  . . . . . . .	 000C	     Word
  WTD_Mus_DataAdr  . . . . . . .	 000E	     Word
  WTD_Mus_PartAdr  . . . . . . .	 0010	     Word
WTD_Sys  . . . . . . . . . . . .	 0034
  WTD_Sys_Flag . . . . . . . . .	 0000	     Word
  WTD_Sys_ProgramOffset  . . . .	 0002	     Word
  WTD_Sys_ProgramSegment . . . .	 0004	     Word
  WTD_Sys_MusicOffset  . . . . .	 0006	     Word
  WTD_Sys_MusicSegment . . . . .	 0008	     Word
  WTD_Sys_EffectOffset . . . . .	 000A	     Word
  WTD_Sys_EffectSegment  . . . .	 000C	     Word
  WTD_Sys_PcmOffset  . . . . . .	 000E	     Word
  WTD_Sys_PcmSegment . . . . . .	 0010	     Word
  WTD_Sys_StayOutMask  . . . . .	 0012	     Word
  WTD_Sys_OldIntvector . . . . .	 0014	     Word
  WTD_Sys_OldIntvectorCom  . . .	 0018	     Word
  WTD_Sys_ComFIFO_Offset . . . .	 001C	     Word
  WTD_Sys_ComFIFO_Segment  . . .	 001E	     Word
  WTD_Sys_Null_20  . . . . . . .	 0020	     Byte
  WTD_Sys_VolumeMusic  . . . . .	 0021	     Byte
  WTD_Sys_VolumeEffect . . . . .	 0022	     Byte
  WTD_Sys_VolumePCM  . . . . . .	 0023	     Byte
  WTD_Sys_Tempo  . . . . . . . .	 0024	     Word
  WTD_Sys_TempoCounter . . . . .	 0026	     Word
  WTD_Sys_MusicPart  . . . . . .	 0028	     Byte
  WTD_Sys_EffectPart . . . . . .	 0029	     Byte
  WTD_Sys_ComFIFO_Cnt  . . . . .	 002A	     Word
  WTD_Sys_ComFIFO_Adr  . . . . .	 002C	     Word
  WTD_Sys_ComFIFO_Size . . . . .	 002E	     Word
  WTD_Sys_RunningStatus  . . . .	 0030	     Byte
  WTD_Sys_InterruptBase  . . . .	 0031	     Byte
  WTD_Sys_VoiceTableOffset . . .	 0032	     Word
WTD  . . . . . . . . . . . . . .	 007A
  WTD_FlagControl  . . . . . . .	 0000	     Word
  WTD_FlagTai  . . . . . . . . .	 0002	     Byte
  WTD_FlagSharp  . . . . . . . .	 0003	     Byte
  WTD_FlagFlat . . . . . . . . .	 0004	     Byte
  WTD_Channel  . . . . . . . . .	 0005	     Byte
  WTD_Address  . . . . . . . . .	 0006	     Word
  WTD_LoopCount  . . . . . . . .	 0008	     Byte
  WTD_LoopCountPointer . . . . .	 0010	     Byte
  WTD_Program  . . . . . . . . .	 0011	     Byte
  WTD_SweepLevel . . . . . . . .	 0012	     Byte
  WTD_SweepTime  . . . . . . . .	 0013	     Byte
  WTD_Leng . . . . . . . . . . .	 0014	     Word
  WTD_LengCounter  . . . . . . .	 0016	     Word
  WTD_LengDefault  . . . . . . .	 0018	     Word
  WTD_KeyOffTime . . . . . . . .	 001A	     Word
  WTD_KeyOnDelay . . . . . . . .	 001C	     Word
  WTD_KeyShift . . . . . . . . .	 001E	     Byte
  WTD_Key  . . . . . . . . . . .	 001F	     Byte
  WTD_KeySet . . . . . . . . . .	 0020	     Byte
  WTD_KeySetPointer  . . . . . .	 0028	     Byte
  WTD_AcsentVelocity . . . . . .	 0029	     Byte
  WTD_BendSet  . . . . . . . . .	 002A	     Word
  WTD_Bend . . . . . . . . . . .	 002C	     Word
  WTD_BendDetune . . . . . . . .	 002E	     Word
  WTD_BendLfoDecayRate . . . . .	 0030	     Byte
  WTD_BendLfoSpeedRate . . . . .	 0031	     Byte
  WTD_BendLfoLevel . . . . . . .	 0032	     Word
  WTD_BendLfoCount . . . . . . .	 0034	     Byte
  WTD_BendLfoRateCounter . . . .	 0035	     Byte
  WTD_BendLfoLevelSet  . . . . .	 0036	     Word
  WTD_BendLfoCountCounter  . . .	 0038	     Byte
  WTD_BendEmbAddress . . . . . .	 0039	     Byte
  WTD_BendEmbRate  . . . . . . .	 003A	     Byte
  WTD_BendEmbCounter . . . . . .	 003B	     Byte
  WTD_BendEmbMaxMin  . . . . . .	 003C	     Byte
  WTD_BendEmbLevelSet  . . . . .	 003D	     Byte
  WTD_ReleaseVolume  . . . . . .	 003E	     Byte
  WTD_ExprPanSet . . . . . . . .	 003F	     Byte
  WTD_ExprSet  . . . . . . . . .	 0040	     Byte
  WTD_Expr . . . . . . . . . . .	 0041	     Byte
  WTD_ExprDetune . . . . . . . .	 0042	     Word
  WTD_ExprLfoDecayRate . . . . .	 0044	     Byte
  WTD_ExprLfoSpeedRate . . . . .	 0045	     Byte
  WTD_ExprLfoLevel . . . . . . .	 0046	     Word
  WTD_ExprLfoCount . . . . . . .	 0048	     Byte
  WTD_ExprLfoRateCounter . . . .	 0049	     Byte
  WTD_ExprLfoLevelSet  . . . . .	 004A	     Word
  WTD_ExprLfoCountCounter  . . .	 004C	     Byte
  WTD_ExprEmbAddress . . . . . .	 004D	     Byte
  WTD_ExprEmbRate  . . . . . . .	 004E	     Byte
  WTD_ExprEmbCounter . . . . . .	 004F	     Byte
  WTD_ExprEmbMaxMin  . . . . . .	 0050	     Byte
  WTD_ExprEmbLevelSet  . . . . .	 0051	     Byte
  WTD_WorkAddress  . . . . . . .	 0052	     Byte
  WTD_OctaveSet  . . . . . . . .	 0053	     Byte
  WTD_Octave . . . . . . . . . .	 0054	     Byte
  WTD_GateTime8  . . . . . . . .	 0055	     Byte
  WTD_GateTimeStepLast . . . . .	 0056	     Word
  WTD_GateTimeStepFirst  . . . .	 0058	     Word
  WTD_VolumeUpDown . . . . . . .	 005A	     Byte
  WTD_ModDecay . . . . . . . . .	 005B	     Word
  WTD_ModLevel . . . . . . . . .	 005D	     Byte
  WTD_ModLevelSet  . . . . . . .	 005E	     Byte
  WTD_Null_5F  . . . . . . . . .	 005F	     Byte
  WTD_PanSet . . . . . . . . . .	 0060	     Byte
  WTD_Pan  . . . . . . . . . . .	 0061	     Byte
  WTD_PanDetune  . . . . . . . .	 0062	     Word
  WTD_PanLfoDecayRate  . . . . .	 0064	     Byte
  WTD_PanLfoSpeedRate  . . . . .	 0065	     Byte
  WTD_PanLfoLevel  . . . . . . .	 0066	     Word
  WTD_PanLfoCount  . . . . . . .	 0068	     Byte
  WTD_PanLfoRateCounter  . . . .	 0069	     Byte
  WTD_PanLfoLevelSet . . . . . .	 006A	     Word
  WTD_PanLfoCountCounter . . . .	 006C	     Byte
  WTD_PanEmbAddress  . . . . . .	 006D	     Byte
  WTD_PanEmbRate . . . . . . . .	 006E	     Byte
  WTD_PanEmbCounter  . . . . . .	 006F	     Byte
  WTD_PanEmbMaxMin . . . . . . .	 0070	     Byte
  WTD_PanEmbLevelSet . . . . . .	 0071	     Byte
  WTD_ProgramRate  . . . . . . .	 0072	     Word
  WTD_Program1st . . . . . . . .	 0074	     Byte
  WTD_Program2nd . . . . . . . .	 0075	     Byte
  WTD_Program3rd . . . . . . . .	 0076	     Byte
  WTD_ProgramDecay . . . . . . .	 0077	     Byte
  WTD_ProgramDecayRate . . . . .	 0078	     Word
WaveData . . . . . . . . . . . .	 0009
  WaveData_Head  . . . . . . . .	 0000	     Byte
  WaveData_Size  . . . . . . . .	 0004	     DWord
  WaveData_Data  . . . . . . . .	 0008	     Byte
WaveFmt  . . . . . . . . . . . .	 0018
  WaveFmt_Head . . . . . . . . .	 0000	     Byte
  WaveFmt_Size . . . . . . . . .	 0004	     DWord
  WaveFmt_Type . . . . . . . . .	 0008	     Word
  WaveFmt_Channel  . . . . . . .	 000A	     Word
  WaveFmt_SamplingRate . . . . .	 000C	     DWord
  WaveFmt_SamplingSec  . . . . .	 0010	     DWord
  WaveFmt_DataSize . . . . . . .	 0014	     Word
  WaveFmt_ChannelSize  . . . . .	 0016	     Word


Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

DGROUP . . . . . . . . . . . . .	GROUP
_TEXT  . . . . . . . . . . . . .	16 Bit	 02DC	  Word	  Public  'CODE'	
_DATA  . . . . . . . . . . . . .	16 Bit	 0001	  Word	  Public  'DATA'	
STACK  . . . . . . . . . . . . .	16 Bit	 1000	  Para	  Stack	  'STACK'	 
_BSS . . . . . . . . . . . . . .	16 Bit	 0004	  Word	  Public  'BSS'  
CONST  . . . . . . . . . . . . .	16 Bit	 0151	  Word	  Public  'CONST'	 ReadOnly


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

ASC2HEX16  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
ASC2HEX8 . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
ChangeExt  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
Change_Current_Directory . . . .	P Near	 0000	  Length= 0000 External STDCALL
ComSmole . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
ExeSmole . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
FH2A16 . . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
FH2A8  . . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Close . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Create  . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Err . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Load_S  . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Load  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Open  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Seek  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
File_Write . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
H2A8 . . . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
H2A_F  . . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
HEX2ASC16  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
HEX2ASC8 . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
Memory_Close . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
Memory_Open  . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
OPTION_ERROR . . . . . . . . . .	P Near	 018E	  _TEXT	Length= 0006 Public STDCALL
OPTION_HELP  . . . . . . . . . .	P Near	 0194	  _TEXT	Length= 000F Public STDCALL
Op_  . . . . . . . . . . . . . .	P Near	 01A3	  _TEXT	Length= 013A Public STDCALL
  ptFilename . . . . . . . . . .	DWord	 bp + 0004
  cDebug . . . . . . . . . . . .	Byte	 bp - 0001
  cHelp  . . . . . . . . . . . .	Byte	 bp - 0002
  dotFlag  . . . . . . . . . . .	Byte	 bp - 0003
_main  . . . . . . . . . . . . .	P Near	 02B5	  _TEXT	Length= 0027 Public STDCALL
  cFilename  . . . . . . . . . .	Byte	 bp - 0086
convert  . . . . . . . . . . . .	P Near	 011F	  _TEXT	Length= 006F Public STDCALL
  convert_loop . . . . . . . . .	L Near	 0133	  _TEXT	
  convert_loop_l . . . . . . . .	L Near	 014E	  _TEXT	
  convert_ChkOct . . . . . . . .	L Near	 0182	  _TEXT	
  convert_ChkSz  . . . . . . . .	L Near	 0189	  _TEXT	
  convert_end  . . . . . . . . .	L Near	 0189	  _TEXT	
dat2hex16  . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL
dat2hex8 . . . . . . . . . . . .	P Near	 0000	  Length= 0000 External STDCALL


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 0000h	 
@DataSize  . . . . . . . . . . .	Number	 0000h	 
@Interface . . . . . . . . . . .	Number	 0003h	 
@Model . . . . . . . . . . . . .	Number	 0001h	 
@Startup . . . . . . . . . . . .	L Near	 0100	  _TEXT	
@code  . . . . . . . . . . . . .	Text   	 DGROUP
@data  . . . . . . . . . . . . .	Text   	 DGROUP
@fardata?  . . . . . . . . . . .	Text   	 FAR_BSS
@fardata . . . . . . . . . . . .	Text   	 FAR_DATA
@stack . . . . . . . . . . . . .	Text   	 DGROUP
FROM_Segment . . . . . . . . . .	Text   	 BANK_ROM0_ADDRESS
IRAM_Segment . . . . . . . . . .	Number	 0000h	 
IRAM_SoundVoiceTable_WW  . . . .	Number	 0180h	 
IRAM_SoundVoiceTable . . . . . .	Text   	 IRAM_SoundVoiceTable_WW
InterruptVectorBase_WW . . . . .	Text   	 INT_HARDHAEW_VECTOR_BASE
InterruptVectorBase  . . . . . .	Text   	 InterruptVectorBase_WW
OPTION_ERROR_MSG . . . . . . . .	Byte	 0021	  CONST	
OP_FLAG_LEN  . . . . . . . . . .	Byte	 0000	  _DATA	
OP_HELP  . . . . . . . . . . . .	Byte	 003A	  CONST	
PRINT_ERR  . . . . . . . . . . .	L Near	 0114	  _TEXT	
SRAM_Segment . . . . . . . . . .	Text   	 BANK_SRAM_ADDRESS
WTD_BendEmb  . . . . . . . . . .	Text   	 WTD_BendEmbAddress
WTD_BendLFO  . . . . . . . . . .	Text   	 WTD_BendLfoDecayRate
WTD_Ctrl_AcsentR . . . . . . . .	Number	 FFBFh	 
WTD_Ctrl_Acsent  . . . . . . . .	Number	 0040h	 
WTD_Ctrl_BendEmbR  . . . . . . .	Number	 FFFDh	 
WTD_Ctrl_BendEmb . . . . . . . .	Number	 0002h	 
WTD_Ctrl_BendLfoR  . . . . . . .	Number	 FFFEh	 
WTD_Ctrl_BendLfo . . . . . . . .	Number	 0001h	 
WTD_Ctrl_EffectR . . . . . . . .	Number	 BFFFh	 
WTD_Ctrl_Effect  . . . . . . . .	Number	 4000h	 
WTD_Ctrl_EmbFreqR  . . . . . . .	Number	 FF7Fh	 
WTD_Ctrl_EmbFreq . . . . . . . .	Number	 0080h	 
WTD_Ctrl_EmbPanR . . . . . . . .	Number	 FDFFh	 
WTD_Ctrl_EmbPan  . . . . . . . .	Number	 0200h	 
WTD_Ctrl_EmbVolR . . . . . . . .	Number	 FEFFh	 
WTD_Ctrl_EmbVol  . . . . . . . .	Number	 0100h	 
WTD_Ctrl_ExprEmbR  . . . . . . .	Number	 FFF7h	 
WTD_Ctrl_ExprEmb . . . . . . . .	Number	 0008h	 
WTD_Ctrl_ExprLfoR  . . . . . . .	Number	 FFFBh	 
WTD_Ctrl_ExprLfo . . . . . . . .	Number	 0004h	 
WTD_Ctrl_PamEmbR . . . . . . . .	Number	 FFDFh	 
WTD_Ctrl_PanEmb  . . . . . . . .	Number	 0020h	 
WTD_Ctrl_PanLfoR . . . . . . . .	Number	 FFEFh	 
WTD_Ctrl_PanLfo  . . . . . . . .	Number	 0010h	 
WTD_Ctrl_PlayEndR  . . . . . . .	Number	 7FFFh	 
WTD_Ctrl_PlayEnd . . . . . . . .	Number	 8000h	 
WTD_Ctrl_Vol0R . . . . . . . . .	Number	 FBFFh	 
WTD_Ctrl_Vol0  . . . . . . . . .	Number	 0400h	 
WTD_Ctrl_WorkCyR . . . . . . . .	Number	 EFFFh	 
WTD_Ctrl_WorkCy  . . . . . . . .	Number	 1000h	 
WTD_Ctrl_WorkSwR . . . . . . . .	Number	 F7FFh	 
WTD_Ctrl_WorkSw  . . . . . . . .	Number	 0800h	 
WTD_Ctrl_WorkZeR . . . . . . . .	Number	 DFFFh	 
WTD_Ctrl_WorkZe  . . . . . . . .	Number	 2000h	 
WTD_ExprEmb  . . . . . . . . . .	Text   	 WTD_ExprEmbAddress
WTD_ExprLFO  . . . . . . . . . .	Text   	 WTD_ExprLfoDecayRate
WTD_FrectionSet  . . . . . . . .	Text   	 WTD_BendSet
WTD_Frection . . . . . . . . . .	Text   	 WTD_Bend
WTD_NoiseMode  . . . . . . . . .	Text   	 WTD_SweepLevel
WTD_PanEmb . . . . . . . . . . .	Text   	 WTD_PanEmbAddress
WTD_PanLFO . . . . . . . . . . .	Text   	 WTD_PanLfoDecayRate
WTD_PcmAddress . . . . . . . . .	Text   	 WTD_LoopCount
WTD_PcmSize  . . . . . . . . . .	Text   	 WTD_LoopCount+4
WTD_Sys_3R . . . . . . . . . . .	Number	 FFF7h	 
WTD_Sys_3  . . . . . . . . . . .	Number	 0008h	 
WTD_Sys_5R . . . . . . . . . . .	Number	 FFDFh	 
WTD_Sys_5  . . . . . . . . . . .	Number	 0020h	 
WTD_Sys_6R . . . . . . . . . . .	Number	 FFBFh	 
WTD_Sys_6  . . . . . . . . . . .	Number	 0040h	 
WTD_Sys_ChannelMode1R  . . . . .	Number	 FEFFh	 
WTD_Sys_ChannelMode1 . . . . . .	Number	 0100h	 
WTD_Sys_ChannelMode2R  . . . . .	Number	 FDFFh	 
WTD_Sys_ChannelMode2 . . . . . .	Number	 0200h	 
WTD_Sys_ChannelMode3R  . . . . .	Number	 FBFFh	 
WTD_Sys_ChannelMode3 . . . . . .	Number	 0400h	 
WTD_Sys_ChannelMode4R  . . . . .	Number	 F7FFh	 
WTD_Sys_ChannelMode4 . . . . . .	Number	 0800h	 
WTD_Sys_EffectMask1R . . . . . .	Number	 EFFFh	 
WTD_Sys_EffectMask1  . . . . . .	Number	 1000h	 
WTD_Sys_EffectMask2R . . . . . .	Number	 DFFFh	 
WTD_Sys_EffectMask2  . . . . . .	Number	 2000h	 
WTD_Sys_EffectMask3R . . . . . .	Number	 BFFFh	 
WTD_Sys_EffectMask3  . . . . . .	Number	 4000h	 
WTD_Sys_EffectMask4R . . . . . .	Number	 7FFFh	 
WTD_Sys_EffectMask4  . . . . . .	Number	 8000h	 
WTD_Sys_EffectR  . . . . . . . .	Number	 FFFDh	 
WTD_Sys_Effect . . . . . . . . .	Number	 0002h	 
WTD_Sys_MidiR  . . . . . . . . .	Number	 FFEFh	 
WTD_Sys_Midi . . . . . . . . . .	Number	 0010h	 
WTD_Sys_MusicR . . . . . . . . .	Number	 FFFEh	 
WTD_Sys_Music  . . . . . . . . .	Number	 0001h	 
WTD_Sys_PcmR . . . . . . . . . .	Number	 FFFBh	 
WTD_Sys_Pcm  . . . . . . . . . .	Number	 0004h	 
WTD_Sys_TimerEmulateR  . . . . .	Number	 FF7Fh	 
WTD_Sys_TimerEmulate . . . . . .	Number	 0080h	 
WTD_Velocity . . . . . . . . . .	Text   	 WTD_ExprPanSet
WTD_Voice1st . . . . . . . . . .	Text   	 WTD_Program1st
WTD_Voice2nd . . . . . . . . . .	Text   	 WTD_Program2nd
WTD_Voice3rd . . . . . . . . . .	Text   	 WTD_Program3rd
WTD_VoiceCnt . . . . . . . . . .	Text   	 WTD_ProgramCnt
WTD_VoiceRate  . . . . . . . . .	Text   	 WTD_ProgramRate
WTD_Voice  . . . . . . . . . . .	Text   	 WTD_Program
WTD_WorkAdd_Ch0  . . . . . . . .	Number	 0600h	 
WTD_WorkAdd_Ch10 . . . . . . . .	Number	 0B00h	 
WTD_WorkAdd_Ch11 . . . . . . . .	Number	 0B80h	 
WTD_WorkAdd_Ch12 . . . . . . . .	Number	 0C00h	 
WTD_WorkAdd_Ch13 . . . . . . . .	Number	 0C80h	 
WTD_WorkAdd_Ch14 . . . . . . . .	Number	 0D00h	 
WTD_WorkAdd_Ch15 . . . . . . . .	Number	 0D80h	 
WTD_WorkAdd_Ch17 . . . . . . . .	Number	 0E80h	 
WTD_WorkAdd_Ch18 . . . . . . . .	Number	 0F00h	 
WTD_WorkAdd_Ch19 . . . . . . . .	Number	 0F80h	 
WTD_WorkAdd_Ch1  . . . . . . . .	Number	 0680h	 
WTD_WorkAdd_Ch2  . . . . . . . .	Number	 0700h	 
WTD_WorkAdd_Ch3  . . . . . . . .	Number	 0780h	 
WTD_WorkAdd_Ch4  . . . . . . . .	Number	 0800h	 
WTD_WorkAdd_Ch5  . . . . . . . .	Number	 0880h	 
WTD_WorkAdd_Ch6  . . . . . . . .	Number	 0900h	 
WTD_WorkAdd_Ch7  . . . . . . . .	Number	 0980h	 
WTD_WorkAdd_Ch8  . . . . . . . .	Number	 0A00h	 
WTD_WorkAdd_Ch9  . . . . . . . .	Number	 0A80h	 
WTD_WorkAdd_Ech0 . . . . . . . .	Number	 0400h	 
WTD_WorkAdd_Ech1 . . . . . . . .	Number	 0480h	 
WTD_WorkAdd_Ech2 . . . . . . . .	Number	 0500h	 
WTD_WorkAdd_Emb  . . . . . . . .	Number	 0200h	 
WTD_WorkAdd_End  . . . . . . . .	Text   	 WTD_WorkSize
WTD_WorkAdd_PCM  . . . . . . . .	Number	 0580h	 
WTD_WorkAdd_System . . . . . . .	Number	 0380h	 
WTD_WorkAdd_User . . . . . . . .	Number	 0000h	 
WTD_WorkAdd_Wave . . . . . . . .	Number	 0100h	 
WTD_WorkChSize . . . . . . . . .	Number	 0080h	 
WTD_WorkSize . . . . . . . . . .	Number	 1000h	 
WTR_WorkAdd_Ch16 . . . . . . . .	Number	 0E00h	 
WTdIL_Version_N  . . . . . . . .	Number	 010Dh	 
WtdIL_Version  . . . . . . . . .	Text   	 '1.0d',0
convert_ptStr  . . . . . . . . .	Word	 0000	  CONST	
convert_strCR  . . . . . . . . .	Byte	 001E	  CONST	
convert_strDB  . . . . . . . . .	Byte	 0008	  CONST	
convert_strDD  . . . . . . . . .	Byte	 0014	  CONST	
convert_strDW  . . . . . . . . .	Byte	 000E	  CONST	
convert_strh . . . . . . . . . .	Byte	 001A	  CONST	
segWtd_File  . . . . . . . . . .	Word	 0000	  _BSS	
szWtd_File . . . . . . . . . . .	Word	 0002	  _BSS	

	   0 Warnings
	   0 Errors
